<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    * {
        padding: 0;
        margin: 0;
    }
    
    .wrap {
        width: 300px;
        margin: 100px auto 0;
    }
    
    table {
        border-collapse: collapse;
        border-spacing: 0;
        border: 1px solid #c0c0c0;
        width: 300px;
    }
    
    th,
    td {
        border: 1px solid #d0d0d0;
        color: #404060;
        padding: 10px;
    }
    
    th {
        background-color: #09c;
        font: bold 16px "微软雅黑";
        color: #fff;
    }
    
    td {
        font: 14px "微软雅黑";
    }
    
    tbody tr {
        background-color: #f0f0f0;
    }
    
    tbody tr:hover {
        cursor: pointer;
        background-color: #fafafa;
    }
</style>
<body>
    <body>
        <div class="wrap">
            <table>
                <thead>
                    <th><input type="checkbox" name="" id="j_cbAll"></th>
                    <th>product</th>
                    <th>price</th>
                </thead>
                <tbody id="j_tb">
                    <tr>
                        <td><input type="checkbox" name="" id=""></td>
                        <td>Apple</td>
                        <td>HK$10</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="" id=""></td>
                        <td>Peach</td>
                        <td>HK$20</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="" id=""></td>
                        <td>Banana</td>
                        <td>HK$5</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="" id=""></td>
                        <td>Pear</td>
                        <td>HK$30</td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="" id=""></td>
                        <td>Lychee</td>
                        <td>HK$40</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <script>
            var j_cbAll = document.querySelector('#j_cbAll')
            var j_tbs = document.querySelector('#j_tb').querySelectorAll('input')

            j_cbAll.onclick = function () {
                for(var i = 0; i < j_tbs.length; i++){
                    j_tbs[i].checked = this.checked
                }
            }

            //為每一個j_tb綁定事件
            for(var i = 0; i < j_tbs.length; i++){
                j_tbs[i].onclick = function () {
                    var flag = true;
                    //遍歷每一個j_tb，只要有一個沒有被勾選，flag的狀態變為false
                    for (var i = 0; i < j_tbs.length; i++) {
                        if (!j_tbs[i].checked) {
                            flag = false;
                        }
                        
                    }
                    //若所有複選被勾選，flag維持為true，全選項就會被狗拳。否則則不被勾選

                    j_cbAll.checked = flag;
                    
                }
            }

            
        </script>
    
</body>
</html>